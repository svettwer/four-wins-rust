(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[993],{580:(t,e,n)=>{"use strict";n.d(e,{lM:()=>d,ug:()=>w,i9:()=>y,YY:()=>h,S$:()=>m,jl:()=>b,Or:()=>$,oH:()=>v});var r=n(422);t=n.hmd(t);const o=new Array(32).fill(void 0);function i(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function c(t){const e=i(t);return function(t){t<36||(o[t]=l,l=t)}(t),e}let s=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();let u=null;function a(t,e){return s.decode((null!==u&&u.buffer===r.memory.buffer||(u=new Uint8Array(r.memory.buffer)),u).subarray(t,t+e))}function f(t){l===o.length&&o.push(o.length+1);const e=l;return l=o[e],o[e]=t,e}let _=null;function g(){return null!==_&&_.buffer===r.memory.buffer||(_=new Int32Array(r.memory.buffer)),_}class d{static __wrap(t){const e=Object.create(d.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_fourwins_free(t)}get current_player(){return r.__wbg_get_fourwins_current_player(this.ptr)}set current_player(t){r.__wbg_set_fourwins_current_player(this.ptr,t)}static new(){var t=r.fourwins_new();return d.__wrap(t)}player_action(t){r.fourwins_player_action(this.ptr,t)}get_stack(t){return c(r.fourwins_get_stack(this.ptr,t))}get_stack_count(){return r.fourwins_get_stack_count(this.ptr)>>>0}get_winner(){var t=r.fourwins_get_winner(this.ptr);return 16777215===t?void 0:t}get_win_constellation(){var t=r.fourwins_get_win_constellation(this.ptr);return 0===t?void 0:p.__wrap(t)}}class p{static __wrap(t){const e=Object.create(p.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_winconstellation_free(t)}get_as_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.winconstellation_get_as_json(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return a(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}}const w=function(t){c(t)},y=function(t,e){alert(a(t,e))},h=function(t){return f(i(t).buffer)},m=function(t,e,n){return f(new Int8Array(i(t),e>>>0,n>>>0))},b=function(t){return f(new Int8Array(i(t)))},$=function(t,e){throw new Error(a(t,e))},v=function(){return f(r.memory)}},422:(t,e,n)=>{"use strict";var r=n.w[t.id];t.exports=r,n(580),r[""]()},993:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var r=n(379),o=(n(463),n(580));function i(t){let e,n,o,i;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.fL)(t[0]),(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(e,"class","text-center")},m(t,l){(0,r.$T)(t,e,l),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,i)},p(t,[e]){1&e&&(0,r.rT)(i,t[0])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e)}}}function l(t,e,n){let{currentPlayer:r}=e;return t.$$set=t=>{"currentPlayer"in t&&n(0,r=t.currentPlayer)},[r]}class c extends r.f_{constructor(t){super(),(0,r.S1)(this,t,l,i,r.N8,{currentPlayer:0})}}const s=c;function u(t){let e,n,o,i,l,c,s,u,a,f;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.bG)("strong"),l=(0,r.fL)(t[1]),c=(0,r.fL)(" won!"),s=(0,r.Dh)(),u=(0,r.bG)("button"),u.textContent="New Game!",(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(u,"class","font-bold text-lg rounded bg-blue-300 px-4 py-2 hover:bg-blue-500 transition-colors duration-200 hover:text-white"),(0,r.Lj)(e,"class","text-center space-y-4")},m(_,g){(0,r.$T)(_,e,g),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,i),(0,r.R3)(i,l),(0,r.R3)(n,c),(0,r.R3)(e,s),(0,r.R3)(e,u),a||(f=(0,r.oL)(u,"click",t[2]),a=!0)},p(t,[e]){2&e&&(0,r.rT)(l,t[1])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e),a=!1,f()}}}function a(t,e,n){let{onNewGame:r}=e,{winner:o}=e;return t.$$set=t=>{"onNewGame"in t&&n(0,r=t.onNewGame),"winner"in t&&n(1,o=t.winner)},[r,o,()=>r()]}class f extends r.f_{constructor(t){super(),(0,r.S1)(this,t,a,u,r.N8,{onNewGame:0,winner:1})}}const _=f;function g(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function d(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function p(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p(t,o){5&o&&n!==(n=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center")&&(0,r.Lj)(e,"class",n)},d(t){t&&(0,r.og)(e)}}}function w(t){let e,n,o,i,l,c=t[7],s=[];for(let e=0;e<c.length;e+=1)s[e]=p(d(t,c,e));function u(){return t[6](t[9])}return{c(){e=(0,r.bG)("div");for(let t=0;t<s.length;t+=1)s[t].c();n=(0,r.Dh)(),(0,r.Lj)(e,"class"," space-y-2"),(0,r.Lj)(e,"id",o="stack-"+t[9])},m(t,o){(0,r.$T)(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);(0,r.R3)(e,n),i||(l=(0,r.oL)(e,"click",u),i=!0)},p(r,o){if(t=r,29&o){let r;for(c=t[7],r=0;r<c.length;r+=1){const i=d(t,c,r);s[r]?s[r].p(i,o):(s[r]=p(i),s[r].c(),s[r].m(e,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=c.length}},d(t){t&&(0,r.og)(e),(0,r.RM)(s,t),i=!1,l()}}}function y(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=w(g(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=(0,r.cS)()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);(0,r.$T)(t,e,n)},p(t,[r]){if(31&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const l=g(t,n,i);o[i]?o[i].p(l,r):(o[i]=w(l),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:r.ZT,o:r.ZT,d(t){(0,r.RM)(o,t),t&&(0,r.og)(e)}}}function h(t,e,n){let{layout:r}=e,{handleFieldClick:o}=e,{gameConfig:i}=e,{winConstellation:l}=e;return t.$$set=t=>{"layout"in t&&n(0,r=t.layout),"handleFieldClick"in t&&n(1,o=t.handleFieldClick),"gameConfig"in t&&n(5,i=t.gameConfig),"winConstellation"in t&&n(2,l=t.winConstellation)},[r,o,l,function(t,e){if(l){let n=(([t,e])=>([n,r])=>t===n&&e===r)([t,e]);if(n(l.one)||n(l.two)||n(l.three)||n(l.four))return"ring-4 md:ring-8 ring-green-900"}return""},function(t){switch(t){case 0:return i.defaultBackground;case 1:return i.playerOne;case 2:return i.playerTwo}},i,t=>o(t)]}class m extends r.f_{constructor(t){super(),(0,r.S1)(this,t,h,y,r.N8,{layout:0,handleFieldClick:1,gameConfig:5,winConstellation:2})}}const b=m;function $(t){let e,n;return e=new _({props:{winner:t[1],onNewGame:t[5]}}),{c(){(0,r.YC)(e.$$.fragment)},m(t,o){(0,r.ye)(e,t,o),n=!0},p(t,n){const r={};2&n&&(r.winner=t[1]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.et)(e.$$.fragment,t),n=!1},d(t){(0,r.vp)(e,t)}}}function v(t){let e,n,o,i,l,c,u,a;o=new s({props:{currentPlayer:t[3]}}),c=new b({props:{layout:t[0],handleFieldClick:t[6],gameConfig:t[4],winConstellation:t[2]}});let f=t[1]&&$(t);return{c(){e=(0,r.bG)("main"),n=(0,r.bG)("div"),(0,r.YC)(o.$$.fragment),i=(0,r.Dh)(),l=(0,r.bG)("div"),(0,r.YC)(c.$$.fragment),u=(0,r.Dh)(),f&&f.c(),(0,r.Lj)(l,"class","p-2 \n                    h-auto \n                    bg-blue-500 \n                    border-8 \n                    grid \n                    grid-cols-7 \n                    w-full\n                    gap-2\n                    max-w-screen-sm\n                    "),(0,r.Lj)(n,"class","space-y-8 p-2 container flex flex-col mx-auto items-center justify-center")},m(t,s){(0,r.$T)(t,e,s),(0,r.R3)(e,n),(0,r.ye)(o,n,null),(0,r.R3)(n,i),(0,r.R3)(n,l),(0,r.ye)(c,l,null),(0,r.R3)(n,u),f&&f.m(n,null),a=!0},p(t,[e]){const i={};8&e&&(i.currentPlayer=t[3]),o.$set(i);const l={};1&e&&(l.layout=t[0]),4&e&&(l.winConstellation=t[2]),c.$set(l),t[1]?f?(f.p(t,e),2&e&&(0,r.Ui)(f,1)):(f=$(t),f.c(),(0,r.Ui)(f,1),f.m(n,null)):f&&((0,r.dv)(),(0,r.et)(f,1,1,(()=>{f=null})),(0,r.gb)())},i(t){a||((0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(f),a=!0)},o(t){(0,r.et)(o.$$.fragment,t),(0,r.et)(c.$$.fragment,t),(0,r.et)(f),a=!1},d(t){t&&(0,r.og)(e),(0,r.vp)(o),(0,r.vp)(c),f&&f.d()}}}function x(t,e,n){let r,i,l,c,s;function u(){r=o.lM.new(),n(1,l=0),n(2,c=void 0),n(3,s=r.current_player),n(0,i=[]);for(let t=0;t<r.get_stack_count();t++)i.push(r.get_stack(t))}return u(),[i,l,c,s,{defaultBackground:"bg-gray-100",playerOne:"bg-red-800",playerTwo:"bg-yellow-300"},u,function(t){if(!l)if(r.player_action(t),n(0,i[t]=r.get_stack(t),i),n(1,l=r.get_winner()),l){const t=r.get_win_constellation().get_as_json();n(2,c=JSON.parse(t))}else n(3,s=r.current_player)}]}class k extends r.f_{constructor(t){super(),(0,r.S1)(this,t,x,v,r.N8,{})}}const C=new k({target:document.body,props:{name:"world"}})}}]);