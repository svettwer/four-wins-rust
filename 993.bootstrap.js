(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[993],{580:(t,n,e)=>{"use strict";e.d(n,{lM:()=>d,ug:()=>w,i9:()=>y,YY:()=>h,S$:()=>m,jl:()=>b,Or:()=>$,oH:()=>v});var r=e(422);t=e.hmd(t);const o=new Array(32).fill(void 0);function i(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function c(t){const n=i(t);return function(t){t<36||(o[t]=l,l=t)}(t),n}let s=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();let u=null;function a(t,n){return s.decode((null!==u&&u.buffer===r.memory.buffer||(u=new Uint8Array(r.memory.buffer)),u).subarray(t,t+n))}function f(t){l===o.length&&o.push(o.length+1);const n=l;return l=o[n],o[n]=t,n}let _=null;function g(){return null!==_&&_.buffer===r.memory.buffer||(_=new Int32Array(r.memory.buffer)),_}class d{static __wrap(t){const n=Object.create(d.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_fourwins_free(t)}get current_player(){return r.__wbg_get_fourwins_current_player(this.ptr)}set current_player(t){r.__wbg_set_fourwins_current_player(this.ptr,t)}static new(){var t=r.fourwins_new();return d.__wrap(t)}player_action(t){r.fourwins_player_action(this.ptr,t)}get_stack(t){return c(r.fourwins_get_stack(this.ptr,t))}get_stack_count(){return r.fourwins_get_stack_count(this.ptr)>>>0}get_winner(){var t=r.fourwins_get_winner(this.ptr);return 16777215===t?void 0:t}get_win_constellation(){var t=r.fourwins_get_win_constellation(this.ptr);return 0===t?void 0:p.__wrap(t)}}class p{static __wrap(t){const n=Object.create(p.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_winconstellation_free(t)}get_as_json(){try{const e=r.__wbindgen_add_to_stack_pointer(-16);r.winconstellation_get_as_json(e,this.ptr);var t=g()[e/4+0],n=g()[e/4+1];return a(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}}const w=function(t){c(t)},y=function(t,n){alert(a(t,n))},h=function(t){return f(i(t).buffer)},m=function(t,n,e){return f(new Int8Array(i(t),n>>>0,e>>>0))},b=function(t){return f(new Int8Array(i(t)))},$=function(t,n){throw new Error(a(t,n))},v=function(){return f(r.memory)}},422:(t,n,e)=>{"use strict";var r=e.w[t.id];t.exports=r,e(580),r[""]()},993:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>C});var r=e(379),o=(e(463),e(580));function i(t){let n,e,o,i;return{c(){n=(0,r.bG)("div"),e=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.fL)(t[0]),(0,r.Lj)(e,"class","text-2xl"),(0,r.Lj)(n,"class","text-center")},m(t,l){(0,r.$T)(t,n,l),(0,r.R3)(n,e),(0,r.R3)(e,o),(0,r.R3)(e,i)},p(t,[n]){1&n&&(0,r.rT)(i,t[0])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(n)}}}function l(t,n,e){let{currentPlayer:r}=n;return t.$$set=t=>{"currentPlayer"in t&&e(0,r=t.currentPlayer)},[r]}class c extends r.f_{constructor(t){super(),(0,r.S1)(this,t,l,i,r.N8,{currentPlayer:0})}}const s=c;function u(t){let n,e,o,i,l,c,s,u,a,f;return{c(){n=(0,r.bG)("div"),e=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.bG)("strong"),l=(0,r.fL)(t[1]),c=(0,r.fL)(" won!"),s=(0,r.Dh)(),u=(0,r.bG)("button"),u.textContent="New Game!",(0,r.Lj)(e,"class","text-2xl"),(0,r.Lj)(u,"class","font-bold \n               text-lg \n               rounded \n               bg-blue-300 \n               px-4 \n               py-2 \n               hover:bg-blue-500 \n               transition-colors \n               duration-200 \n               hover:text-white"),(0,r.Lj)(n,"class","text-center space-y-4")},m(_,g){(0,r.$T)(_,n,g),(0,r.R3)(n,e),(0,r.R3)(e,o),(0,r.R3)(e,i),(0,r.R3)(i,l),(0,r.R3)(e,c),(0,r.R3)(n,s),(0,r.R3)(n,u),a||(f=(0,r.oL)(u,"click",t[2]),a=!0)},p(t,[n]){2&n&&(0,r.rT)(l,t[1])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(n),a=!1,f()}}}function a(t,n,e){let{onNewGame:r}=n,{winner:o}=n;return t.$$set=t=>{"onNewGame"in t&&e(0,r=t.onNewGame),"winner"in t&&e(1,o=t.winner)},[r,o,()=>r()]}class f extends r.f_{constructor(t){super(),(0,r.S1)(this,t,a,u,r.N8,{onNewGame:0,winner:1})}}const _=f;function g(t,n,e){const r=t.slice();return r[7]=n[e],r[9]=e,r}function d(t,n,e){const r=t.slice();return r[10]=n[e],r[12]=e,r}function p(t){let n,e;return{c(){n=(0,r.bG)("div"),(0,r.Lj)(n,"class",e=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center"),(0,r.cz)(n,"padding-top","100%")},m(t,e){(0,r.$T)(t,n,e)},p(t,o){5&o&&e!==(e=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center")&&(0,r.Lj)(n,"class",e)},d(t){t&&(0,r.og)(n)}}}function w(t){let n,e,o,i,l,c=t[7],s=[];for(let n=0;n<c.length;n+=1)s[n]=p(d(t,c,n));function u(){return t[6](t[9])}return{c(){n=(0,r.bG)("div");for(let t=0;t<s.length;t+=1)s[t].c();e=(0,r.Dh)(),(0,r.Lj)(n,"class"," space-y-2"),(0,r.Lj)(n,"id",o="stack-"+t[9])},m(t,o){(0,r.$T)(t,n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);(0,r.R3)(n,e),i||(l=(0,r.oL)(n,"click",u),i=!0)},p(r,o){if(t=r,29&o){let r;for(c=t[7],r=0;r<c.length;r+=1){const i=d(t,c,r);s[r]?s[r].p(i,o):(s[r]=p(i),s[r].c(),s[r].m(n,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=c.length}},d(t){t&&(0,r.og)(n),(0,r.RM)(s,t),i=!1,l()}}}function y(t){let n,e=t[0],o=[];for(let n=0;n<e.length;n+=1)o[n]=w(g(t,e,n));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=(0,r.cS)()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);(0,r.$T)(t,n,e)},p(t,[r]){if(31&r){let i;for(e=t[0],i=0;i<e.length;i+=1){const l=g(t,e,i);o[i]?o[i].p(l,r):(o[i]=w(l),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=e.length}},i:r.ZT,o:r.ZT,d(t){(0,r.RM)(o,t),t&&(0,r.og)(n)}}}function h(t,n,e){let{layout:r}=n,{handleFieldClick:o}=n,{gameConfig:i}=n,{winConstellation:l}=n;return t.$$set=t=>{"layout"in t&&e(0,r=t.layout),"handleFieldClick"in t&&e(1,o=t.handleFieldClick),"gameConfig"in t&&e(5,i=t.gameConfig),"winConstellation"in t&&e(2,l=t.winConstellation)},[r,o,l,function(t,n){if(l){let e=(([t,n])=>([e,r])=>t===e&&n===r)([t,n]);if(e(l.one)||e(l.two)||e(l.three)||e(l.four))return"ring-4 md:ring-8 ring-green-900"}return""},function(t){switch(t){case 0:return i.defaultBackground;case 1:return i.playerOne;case 2:return i.playerTwo}},i,t=>o(t)]}class m extends r.f_{constructor(t){super(),(0,r.S1)(this,t,h,y,r.N8,{layout:0,handleFieldClick:1,gameConfig:5,winConstellation:2})}}const b=m;function $(t){let n,e;return n=new _({props:{winner:t[1],onNewGame:t[5]}}),{c(){(0,r.YC)(n.$$.fragment)},m(t,o){(0,r.ye)(n,t,o),e=!0},p(t,e){const r={};2&e&&(r.winner=t[1]),n.$set(r)},i(t){e||((0,r.Ui)(n.$$.fragment,t),e=!0)},o(t){(0,r.et)(n.$$.fragment,t),e=!1},d(t){(0,r.vp)(n,t)}}}function v(t){let n,e,o,i,l,c,u,a;o=new s({props:{currentPlayer:t[3]}}),c=new b({props:{layout:t[0],handleFieldClick:t[6],gameConfig:t[4],winConstellation:t[2]}});let f=t[1]&&$(t);return{c(){n=(0,r.bG)("main"),e=(0,r.bG)("div"),(0,r.YC)(o.$$.fragment),i=(0,r.Dh)(),l=(0,r.bG)("div"),(0,r.YC)(c.$$.fragment),u=(0,r.Dh)(),f&&f.c(),(0,r.Lj)(l,"class","p-2 \n                    h-auto \n                    bg-blue-500 \n                    border-4 \n                    grid \n                    grid-cols-7 \n                    w-full\n                    gap-2\n                    max-w-screen-sm\n                    "),(0,r.Lj)(e,"class","space-y-4 p-2 container flex flex-col mx-auto items-center justify-center")},m(t,s){(0,r.$T)(t,n,s),(0,r.R3)(n,e),(0,r.ye)(o,e,null),(0,r.R3)(e,i),(0,r.R3)(e,l),(0,r.ye)(c,l,null),(0,r.R3)(e,u),f&&f.m(e,null),a=!0},p(t,[n]){const i={};8&n&&(i.currentPlayer=t[3]),o.$set(i);const l={};1&n&&(l.layout=t[0]),4&n&&(l.winConstellation=t[2]),c.$set(l),t[1]?f?(f.p(t,n),2&n&&(0,r.Ui)(f,1)):(f=$(t),f.c(),(0,r.Ui)(f,1),f.m(e,null)):f&&((0,r.dv)(),(0,r.et)(f,1,1,(()=>{f=null})),(0,r.gb)())},i(t){a||((0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(f),a=!0)},o(t){(0,r.et)(o.$$.fragment,t),(0,r.et)(c.$$.fragment,t),(0,r.et)(f),a=!1},d(t){t&&(0,r.og)(n),(0,r.vp)(o),(0,r.vp)(c),f&&f.d()}}}function x(t,n,e){let r,i,l,c,s;function u(){r=o.lM.new(),e(1,l=0),e(2,c=void 0),e(3,s=r.current_player),e(0,i=[]);for(let t=0;t<r.get_stack_count();t++)i.push(r.get_stack(t))}return u(),[i,l,c,s,{defaultBackground:"bg-gray-100",playerOne:"bg-red-800",playerTwo:"bg-yellow-300"},u,function(t){if(!l)if(r.player_action(t),e(0,i[t]=r.get_stack(t),i),e(1,l=r.get_winner()),l){const t=r.get_win_constellation().get_as_json();e(2,c=JSON.parse(t))}else e(3,s=r.current_player)}]}class k extends r.f_{constructor(t){super(),(0,r.S1)(this,t,x,v,r.N8,{})}}const C=new k({target:document.body,props:{name:"world"}})}}]);