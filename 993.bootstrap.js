(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[993],{580:(t,e,n)=>{"use strict";n.d(e,{lM:()=>g,ug:()=>w,YY:()=>y,S$:()=>h,jl:()=>m,Or:()=>b,oH:()=>$});var r=n(422);t=n.hmd(t);const o=new Array(32).fill(void 0);function i(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function s(t){const e=i(t);return function(t){t<36||(o[t]=l,l=t)}(t),e}let c=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let a=null;function u(t,e){return c.decode((null!==a&&a.buffer===r.memory.buffer||(a=new Uint8Array(r.memory.buffer)),a).subarray(t,t+e))}function f(t){l===o.length&&o.push(o.length+1);const e=l;return l=o[e],o[e]=t,e}let _=null;function d(){return null!==_&&_.buffer===r.memory.buffer||(_=new Int32Array(r.memory.buffer)),_}class g{static __wrap(t){const e=Object.create(g.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_fourwins_free(t)}get current_player(){return r.__wbg_get_fourwins_current_player(this.ptr)}set current_player(t){r.__wbg_set_fourwins_current_player(this.ptr,t)}static new(){var t=r.fourwins_new();return g.__wrap(t)}player_action(t){r.fourwins_player_action(this.ptr,t)}get_layout_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.fourwins_get_layout_json(n,this.ptr);var t=d()[n/4+0],e=d()[n/4+1];return u(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}get_winner(){var t=r.fourwins_get_winner(this.ptr);return 16777215===t?void 0:t}get_stack(t){return s(r.fourwins_get_stack(this.ptr,t))}get_stack_count(){return r.fourwins_get_stack_count(this.ptr)>>>0}get_win_constellation(){var t=r.fourwins_get_win_constellation(this.ptr);return 0===t?void 0:p.__wrap(t)}}class p{static __wrap(t){const e=Object.create(p.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_winconstellation_free(t)}as_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.winconstellation_as_json(n,this.ptr);var t=d()[n/4+0],e=d()[n/4+1];return u(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}}const w=function(t){s(t)},y=function(t){return f(i(t).buffer)},h=function(t,e,n){return f(new Int8Array(i(t),e>>>0,n>>>0))},m=function(t){return f(new Int8Array(i(t)))},b=function(t,e){throw new Error(u(t,e))},$=function(){return f(r.memory)}},422:(t,e,n)=>{"use strict";var r=n.w[t.id];t.exports=r,n(580),r[""]()},993:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});var r=n(379),o=(n(463),n(580));function i(t){let e,n,o,i;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.fL)(t[0]),(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(e,"class","text-center")},m(t,l){(0,r.$T)(t,e,l),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,i)},p(t,[e]){1&e&&(0,r.rT)(i,t[0])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e)}}}function l(t,e,n){let{currentPlayer:r}=e;return t.$$set=t=>{"currentPlayer"in t&&n(0,r=t.currentPlayer)},[r]}class s extends r.f_{constructor(t){super(),(0,r.S1)(this,t,l,i,r.N8,{currentPlayer:0})}}const c=s;function a(t){let e,n,o,i,l,s,c,a,u,f;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),i=(0,r.bG)("strong"),l=(0,r.fL)(t[1]),s=(0,r.fL)(" won!"),c=(0,r.Dh)(),a=(0,r.bG)("button"),a.textContent="New Game!",(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(a,"class","font-bold text-lg rounded bg-blue-300 px-4 py-2 hover:bg-blue-500 transition-colors duration-200 hover:text-white"),(0,r.Lj)(e,"class","text-center space-y-4")},m(_,d){(0,r.$T)(_,e,d),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,i),(0,r.R3)(i,l),(0,r.R3)(n,s),(0,r.R3)(e,c),(0,r.R3)(e,a),u||(f=(0,r.oL)(a,"click",t[2]),u=!0)},p(t,[e]){2&e&&(0,r.rT)(l,t[1])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e),u=!1,f()}}}function u(t,e,n){let{onNewGame:r}=e,{winner:o}=e;return t.$$set=t=>{"onNewGame"in t&&n(0,r=t.onNewGame),"winner"in t&&n(1,o=t.winner)},[r,o,()=>r()]}class f extends r.f_{constructor(t){super(),(0,r.S1)(this,t,u,a,r.N8,{onNewGame:0,winner:1})}}const _=f;function d(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function g(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function p(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p(t,o){5&o&&n!==(n=t[4](t[10])+" \n            "+(t[2]?t[3](t[9],t[12]):"")+" \n            rounded-full \n            w-full \n            flex \n            items-center \n            justify-center")&&(0,r.Lj)(e,"class",n)},d(t){t&&(0,r.og)(e)}}}function w(t){let e,n,o,i,l,s=t[7],c=[];for(let e=0;e<s.length;e+=1)c[e]=p(g(t,s,e));function a(){return t[6](t[9])}return{c(){e=(0,r.bG)("div");for(let t=0;t<c.length;t+=1)c[t].c();n=(0,r.Dh)(),(0,r.Lj)(e,"class"," space-y-2"),(0,r.Lj)(e,"id",o="stack-"+t[9])},m(t,o){(0,r.$T)(t,e,o);for(let t=0;t<c.length;t+=1)c[t].m(e,null);(0,r.R3)(e,n),i||(l=(0,r.oL)(e,"click",a),i=!0)},p(r,o){if(t=r,29&o){let r;for(s=t[7],r=0;r<s.length;r+=1){const i=g(t,s,r);c[r]?c[r].p(i,o):(c[r]=p(i),c[r].c(),c[r].m(e,n))}for(;r<c.length;r+=1)c[r].d(1);c.length=s.length}},d(t){t&&(0,r.og)(e),(0,r.RM)(c,t),i=!1,l()}}}function y(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=w(d(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=(0,r.cS)()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);(0,r.$T)(t,e,n)},p(t,[r]){if(31&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const l=d(t,n,i);o[i]?o[i].p(l,r):(o[i]=w(l),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:r.ZT,o:r.ZT,d(t){(0,r.RM)(o,t),t&&(0,r.og)(e)}}}function h(t,e,n){let{layout:r}=e,{handleFieldClick:o}=e,{gameConfig:i}=e,{winConstellation:l}=e;return t.$$set=t=>{"layout"in t&&n(0,r=t.layout),"handleFieldClick"in t&&n(1,o=t.handleFieldClick),"gameConfig"in t&&n(5,i=t.gameConfig),"winConstellation"in t&&n(2,l=t.winConstellation)},[r,o,l,function(t,e){if(l){let n=(([t,e])=>([n,r])=>t===n&&e===r)([t,e]);if(n(l.one)||n(l.two)||n(l.three)||n(l.four))return"ring-4 md:ring-8 ring-green-900"}return""},function(t){switch(t){case 0:return i.defaultBackground;case 1:return i.playerOne;case 2:return i.playerTwo}},i,t=>o(t)]}class m extends r.f_{constructor(t){super(),(0,r.S1)(this,t,h,y,r.N8,{layout:0,handleFieldClick:1,gameConfig:5,winConstellation:2})}}const b=m;function $(t){let e,n;return e=new _({props:{winner:t[1],onNewGame:t[5]}}),{c(){(0,r.YC)(e.$$.fragment)},m(t,o){(0,r.ye)(e,t,o),n=!0},p(t,n){const r={};2&n&&(r.winner=t[1]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.et)(e.$$.fragment,t),n=!1},d(t){(0,r.vp)(e,t)}}}function v(t){let e,n,o,i,l,s,a,u;o=new c({props:{currentPlayer:t[3]}}),s=new b({props:{layout:t[0],handleFieldClick:t[6],gameConfig:t[4],winConstellation:t[2]}});let f=t[1]&&$(t);return{c(){e=(0,r.bG)("main"),n=(0,r.bG)("div"),(0,r.YC)(o.$$.fragment),i=(0,r.Dh)(),l=(0,r.bG)("div"),(0,r.YC)(s.$$.fragment),a=(0,r.Dh)(),f&&f.c(),(0,r.Lj)(l,"class","p-2 \n                    h-auto \n                    bg-blue-500 \n                    border-8 \n                    grid \n                    grid-cols-7 \n                    w-full\n                    gap-2\n                    max-w-screen-sm\n                    "),(0,r.Lj)(n,"class","space-y-8 p-2 container flex flex-col mx-auto items-center justify-center")},m(t,c){(0,r.$T)(t,e,c),(0,r.R3)(e,n),(0,r.ye)(o,n,null),(0,r.R3)(n,i),(0,r.R3)(n,l),(0,r.ye)(s,l,null),(0,r.R3)(n,a),f&&f.m(n,null),u=!0},p(t,[e]){const i={};8&e&&(i.currentPlayer=t[3]),o.$set(i);const l={};1&e&&(l.layout=t[0]),4&e&&(l.winConstellation=t[2]),s.$set(l),t[1]?f?(f.p(t,e),2&e&&(0,r.Ui)(f,1)):(f=$(t),f.c(),(0,r.Ui)(f,1),f.m(n,null)):f&&((0,r.dv)(),(0,r.et)(f,1,1,(()=>{f=null})),(0,r.gb)())},i(t){u||((0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(s.$$.fragment,t),(0,r.Ui)(f),u=!0)},o(t){(0,r.et)(o.$$.fragment,t),(0,r.et)(s.$$.fragment,t),(0,r.et)(f),u=!1},d(t){t&&(0,r.og)(e),(0,r.vp)(o),(0,r.vp)(s),f&&f.d()}}}function j(t,e,n){let r,i,l,s,c;function a(){r=o.lM.new(),n(1,l=0),n(2,s=void 0),n(3,c=r.current_player),n(0,i=JSON.parse(r.get_layout_json()))}return a(),[i,l,s,c,{defaultBackground:"bg-gray-100",playerOne:"bg-red-800",playerTwo:"bg-yellow-300"},a,function(t){if(!l)if(r.player_action(t),n(0,i=JSON.parse(r.get_layout_json())),n(1,l=r.get_winner()),l){const t=r.get_win_constellation().as_json();n(2,s=JSON.parse(t))}else n(3,c=r.current_player)}]}class x extends r.f_{constructor(t){super(),(0,r.S1)(this,t,j,v,r.N8,{})}}const k=new x({target:document.body,props:{name:"world"}})}}]);