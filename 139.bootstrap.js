(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[139],{580:(t,e,n)=>{"use strict";n.d(e,{lM:()=>_,ug:()=>w,i9:()=>m,YY:()=>h,S$:()=>y,jl:()=>b,Or:()=>$,oH:()=>T});var r=n(422);t=n.hmd(t);const o=new Array(32).fill(void 0);function c(t){return o[t]}o.push(void 0,null,!0,!1);let l=o.length;function u(t){const e=c(t);return function(t){t<36||(o[t]=l,l=t)}(t),e}let i=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function f(t,e){return i.decode((null!==s&&s.buffer===r.memory.buffer||(s=new Uint8Array(r.memory.buffer)),s).subarray(t,t+e))}function a(t){l===o.length&&o.push(o.length+1);const e=l;return l=o[e],o[e]=t,e}let d=null;function p(){return null!==d&&d.buffer===r.memory.buffer||(d=new Int32Array(r.memory.buffer)),d}class _{static __wrap(t){const e=Object.create(_.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_fourwins_free(t)}get current_player(){return r.__wbg_get_fourwins_current_player(this.ptr)}set current_player(t){r.__wbg_set_fourwins_current_player(this.ptr,t)}static new(){var t=r.fourwins_new();return _.__wrap(t)}player_action(t){r.fourwins_player_action(this.ptr,t)}get_stack(t){return u(r.fourwins_get_stack(this.ptr,t))}get_stack_count(){return r.fourwins_get_stack_count(this.ptr)>>>0}get_winner(){var t=r.fourwins_get_winner(this.ptr);return 16777215===t?void 0:t}get_win_constellation(){var t=r.fourwins_get_win_constellation(this.ptr);return 0===t?void 0:g.__wrap(t)}}class g{static __wrap(t){const e=Object.create(g.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_winconstellation_free(t)}get_as_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.winconstellation_get_as_json(n,this.ptr);var t=p()[n/4+0],e=p()[n/4+1];return f(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}}const w=function(t){u(t)},m=function(t,e){alert(f(t,e))},h=function(t){return a(c(t).buffer)},y=function(t,e,n){return a(new Int8Array(c(t),e>>>0,n>>>0))},b=function(t){return a(new Int8Array(c(t)))},$=function(t,e){throw new Error(f(t,e))},T=function(){return a(r.memory)}},422:(t,e,n)=>{"use strict";var r=n.w[t.id];t.exports=r,n(580),r[""]()},139:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>D});var r=n(379),o=n(580);function c(t){let e,n,o,c;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),c=(0,r.fL)(t[0]),(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(e,"class","text-center")},m(t,l){(0,r.$T)(t,e,l),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,c)},p(t,[e]){1&e&&(0,r.rT)(c,t[0])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e)}}}function l(t,e,n){let{currentPlayer:r}=e;return t.$$set=t=>{"currentPlayer"in t&&n(0,r=t.currentPlayer)},[r]}class u extends r.f_{constructor(t){super(),(0,r.S1)(this,t,l,c,r.N8,{currentPlayer:0})}}const i=u;function s(t){let e,n,o,c,l,u,i,s,f,a;return{c(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.fL)("Player "),c=(0,r.bG)("strong"),l=(0,r.fL)(t[1]),u=(0,r.fL)(" won!"),i=(0,r.Dh)(),s=(0,r.bG)("button"),s.textContent="New Game!",(0,r.Lj)(n,"class","text-2xl"),(0,r.Lj)(s,"class","font-bold text-lg rounded bg-blue-300 px-4 py-2 hover:bg-blue-500 transition-colors duration-200 hover:text-white"),(0,r.Lj)(e,"class","text-center space-y-4")},m(d,p){(0,r.$T)(d,e,p),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(n,c),(0,r.R3)(c,l),(0,r.R3)(n,u),(0,r.R3)(e,i),(0,r.R3)(e,s),f||(a=(0,r.oL)(s,"click",t[2]),f=!0)},p(t,[e]){2&e&&(0,r.rT)(l,t[1])},i:r.ZT,o:r.ZT,d(t){t&&(0,r.og)(e),f=!1,a()}}}function f(t,e,n){let{onNewGame:r}=e,{winner:o}=e;return t.$$set=t=>{"onNewGame"in t&&n(0,r=t.onNewGame),"winner"in t&&n(1,o=t.winner)},[r,o,()=>r()]}class a extends r.f_{constructor(t){super(),(0,r.S1)(this,t,f,s,r.N8,{onNewGame:0,winner:1})}}const d=a;function p(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function _(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function g(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function w(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function m(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=v(p(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=(0,r.cS)()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);(0,r.$T)(t,e,n)},p(t,r){if(105&r){let c;for(n=t[0],c=0;c<n.length;c+=1){const l=p(t,n,c);o[c]?o[c].p(l,r):(o[c]=v(l),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){(0,r.RM)(o,t),t&&(0,r.og)(e)}}}function h(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=G(g(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=(0,r.cS)()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);(0,r.$T)(t,e,n)},p(t,r){if(41&r){let c;for(n=t[0],c=0;c<n.length;c+=1){const l=g(t,n,c);o[c]?o[c].p(l,r):(o[c]=G(l),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){(0,r.RM)(o,t),t&&(0,r.og)(e)}}}function y(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].defaultBackground+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function b(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].playerTwo+" "+t[6](t[13],t[16])+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function $(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].playerOne+" "+t[6](t[13],t[16])+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function T(t){let e;function n(t,e){return 1===t[14]?$:2===t[14]?b:y}let o=n(t),c=o(t);return{c(){c.c(),e=(0,r.cS)()},m(t,n){c.m(t,n),(0,r.$T)(t,e,n)},p(t,r){o===(o=n(t))&&c?c.p(t,r):(c.d(1),c=o(t),c&&(c.c(),c.m(e.parentNode,e)))},d(t){c.d(t),t&&(0,r.og)(e)}}}function v(t){let e,n,o,c,l,u=t[11],i=[];for(let e=0;e<u.length;e+=1)i[e]=T(_(t,u,e));function s(){return t[8](t[13])}return{c(){e=(0,r.bG)("div");for(let t=0;t<i.length;t+=1)i[t].c();n=(0,r.Dh)(),(0,r.Lj)(e,"class","space-y-2"),(0,r.Lj)(e,"id",o="stack-"+t[13])},m(t,o){(0,r.$T)(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);(0,r.R3)(e,n),c||(l=(0,r.oL)(e,"click",s),c=!0)},p(r,o){if(t=r,73&o){let r;for(u=t[11],r=0;r<u.length;r+=1){const c=_(t,u,r);i[r]?i[r].p(c,o):(i[r]=T(c),i[r].c(),i[r].m(e,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=u.length}},d(t){t&&(0,r.og)(e),(0,r.RM)(i,t),c=!1,l()}}}function j(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].defaultBackground+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function x(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].playerTwo+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function L(t){let e,n;return{c(){e=(0,r.bG)("div"),(0,r.Lj)(e,"class",n=t[3].playerOne+" rounded-full w-full flex items-center justify-center"),(0,r.cz)(e,"padding-top","100%")},m(t,n){(0,r.$T)(t,e,n)},p:r.ZT,d(t){t&&(0,r.og)(e)}}}function k(t){let e;function n(t,e){return 1===t[14]?L:2===t[14]?x:j}let o=n(t),c=o(t);return{c(){c.c(),e=(0,r.cS)()},m(t,n){c.m(t,n),(0,r.$T)(t,e,n)},p(t,r){o===(o=n(t))&&c?c.p(t,r):(c.d(1),c=o(t),c&&(c.c(),c.m(e.parentNode,e)))},d(t){c.d(t),t&&(0,r.og)(e)}}}function G(t){let e,n,o,c,l,u=t[11],i=[];for(let e=0;e<u.length;e+=1)i[e]=k(w(t,u,e));function s(){return t[7](t[13])}return{c(){e=(0,r.bG)("div");for(let t=0;t<i.length;t+=1)i[t].c();n=(0,r.Dh)(),(0,r.Lj)(e,"class"," space-y-2"),(0,r.Lj)(e,"id",o="stack-"+t[13])},m(t,o){(0,r.$T)(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);(0,r.R3)(e,n),c||(l=(0,r.oL)(e,"click",s),c=!0)},p(r,o){if(t=r,9&o){let r;for(u=t[11],r=0;r<u.length;r+=1){const c=w(t,u,r);i[r]?i[r].p(c,o):(i[r]=k(c),i[r].c(),i[r].m(e,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=u.length}},d(t){t&&(0,r.og)(e),(0,r.RM)(i,t),c=!1,l()}}}function R(t){let e,n;return e=new d({props:{winner:t[1],onNewGame:t[4]}}),{c(){(0,r.YC)(e.$$.fragment)},m(t,o){(0,r.ye)(e,t,o),n=!0},p(t,n){const r={};2&n&&(r.winner=t[1]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.et)(e.$$.fragment,t),n=!1},d(t){(0,r.vp)(e,t)}}}function N(t){let e,n,o,c,l,u,s;function f(t,e){return t[1]?m:h}o=new i({props:{currentPlayer:t[2]}});let a=f(t),d=a(t),p=t[1]&&R(t);return{c(){e=(0,r.bG)("main"),n=(0,r.bG)("div"),(0,r.YC)(o.$$.fragment),c=(0,r.Dh)(),l=(0,r.bG)("div"),d.c(),u=(0,r.Dh)(),p&&p.c(),(0,r.Lj)(l,"class","p-2 \n                    h-auto \n                    bg-blue-500 \n                    border-8 \n                    grid \n                    grid-cols-7 \n                    w-full\n                    gap-2\n                    max-w-screen-md\n                    "),(0,r.Lj)(n,"class","space-y-8 p-2 container flex flex-col mx-auto items-center justify-center")},m(t,i){(0,r.$T)(t,e,i),(0,r.R3)(e,n),(0,r.ye)(o,n,null),(0,r.R3)(n,c),(0,r.R3)(n,l),d.m(l,null),(0,r.R3)(n,u),p&&p.m(n,null),s=!0},p(t,[e]){const c={};4&e&&(c.currentPlayer=t[2]),o.$set(c),a===(a=f(t))&&d?d.p(t,e):(d.d(1),d=a(t),d&&(d.c(),d.m(l,null))),t[1]?p?(p.p(t,e),2&e&&(0,r.Ui)(p,1)):(p=R(t),p.c(),(0,r.Ui)(p,1),p.m(n,null)):p&&((0,r.dv)(),(0,r.et)(p,1,1,(()=>{p=null})),(0,r.gb)())},i(t){s||((0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(p),s=!0)},o(t){(0,r.et)(o.$$.fragment,t),(0,r.et)(p),s=!1},d(t){t&&(0,r.og)(e),(0,r.vp)(o),d.d(),p&&p.d()}}}function Z(t,e,n){let r,c=o.lM.new(),l=[],u=0,i=c.current_player;for(let t=0;t<c.get_stack_count();t++)l.push(c.get_stack(t));function s(t){if(!u)if(c.player_action(t),n(0,l[t]=c.get_stack(t),l),n(1,u=c.get_winner()),u){const t=c.get_win_constellation().get_as_json();r=JSON.parse(t)}else n(2,i=c.current_player)}return[l,u,i,{defaultBackground:"bg-gray-100",playerOne:"bg-red-800",playerTwo:"bg-yellow-300"},function(){c=o.lM.new(),n(2,i=c.current_player),n(0,l=[]);for(let t=0;t<c.get_stack_count();t++)l.push(c.get_stack(t));n(1,u=0),r=void 0},s,function(t,e){let n=(([t,e])=>([n,r])=>t===n&&e===r)([t,e]);return r&&(n(r.one)||n(r.two)||n(r.three)||n(r.four))?"ring-4 md:ring-8 ring-green-900":""},t=>s(t),t=>s(t)]}class S extends r.f_{constructor(t){super(),(0,r.S1)(this,t,Z,N,r.N8,{})}}const D=new S({target:document.body,props:{name:"world"}})}}]);